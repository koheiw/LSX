<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="LSX">
<title>Application in research • LSX</title>
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Application in research">
<meta property="og:description" content="LSX">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-TEHFMPSR39"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TEHFMPSR39');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">LSX</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../../articles/pkgdown/basic.html">Introduction to LSX</a>
    <a class="dropdown-item" href="../../articles/pkgdown/research.html">Application in research</a>
    <a class="dropdown-item" href="../../articles/pkgdown/seedwords.html">Selection of seed words</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/koheiw/LSX/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Application in research</h1>
            <h3 data-toc-skip class="subtitle">Russian state media’s
coverage of egnergy issues in the US and the EU</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/koheiw/LSX/blob/HEAD/vignettes/pkgdown/research.Rmd" class="external-link"><code>vignettes/pkgdown/research.Rmd</code></a></small>
      <div class="d-none name"><code>research.Rmd</code></div>
    </div>

    
    
<p>In this example, we will analyze how much the proposition of <a href="https://ec.europa.eu/commission/presscorner/detail/en/ip_22_4608" class="external-link">the
European Gas Demand Reduction Plan</a> on 20 July affected Sputnik’s
coverage of energy issues in the United States and the European
Union.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">LSX</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://quanteda.io" class="external-link">quanteda</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Package version: 3.3.1</span></span>
<span><span class="co">#&gt; Unicode version: 13.0</span></span>
<span><span class="co">#&gt; ICU version: 69.1</span></span>
<span><span class="co">#&gt; Parallel computing: 8 of 8 threads used.</span></span>
<span><span class="co">#&gt; See https://quanteda.io for tutorials and examples.</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="preperation">Preperation<a class="anchor" aria-label="anchor" href="#preperation"></a>
</h3>
<p>We will analyze the same <a href="https://www.dropbox.com/s/abme18nlrwxgmz8/data_corpus_sputnik2022.rds?dl=1" class="external-link">corpus</a>
as the <a href="./introduction.html">introduction</a>, so too the
pre-processing.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">corp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"data_corpus_sputnik2022.rds"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/quanteda/man/corpus_reshape.html" class="external-link">corpus_reshape</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">toks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/quanteda/man/tokens.html" class="external-link">tokens</a></span><span class="op">(</span><span class="va">corp</span>, remove_punct <span class="op">=</span> <span class="cn">TRUE</span>, remove_symbols <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>               remove_numbers <span class="op">=</span> <span class="cn">TRUE</span>, remove_url <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">dfmt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/quanteda/man/dfm.html" class="external-link">dfm</a></span><span class="op">(</span><span class="va">toks</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/quanteda/man/dfm_select.html" class="external-link">dfm_remove</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/stopwords/man/stopwords.html" class="external-link">stopwords</a></span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We will use a <a href="https://github.com/koheiw/LSX/tree/master/vignettes" class="external-link">dictionary</a>
of keywords in this example.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dict</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/quanteda/man/dictionary.html" class="external-link">dictionary</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"dictionary.yml"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">dict</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="st">"energy"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; Dictionary object with 2 primary key entries and 2 nested levels.</span></span>
<span><span class="co">#&gt; - [country]:</span></span>
<span><span class="co">#&gt;   - [us]:</span></span>
<span><span class="co">#&gt;     - united states, us, american*, washington</span></span>
<span><span class="co">#&gt;   - [uk]:</span></span>
<span><span class="co">#&gt;     - united kingdom, uk, british, london</span></span>
<span><span class="co">#&gt;   - [eu]:</span></span>
<span><span class="co">#&gt;     - european union, eu, european*, brussels</span></span>
<span><span class="co">#&gt;   - [se]:</span></span>
<span><span class="co">#&gt;     - sweden, swedish, stockholm</span></span>
<span><span class="co">#&gt;   - [fi]:</span></span>
<span><span class="co">#&gt;     - finland, finnish, helsinki</span></span>
<span><span class="co">#&gt;   - [ua]:</span></span>
<span><span class="co">#&gt;     - ukraine, ukrainian*, kiev, kyiv</span></span>
<span><span class="co">#&gt;   [ reached max_nkey ... 1 more key ]</span></span>
<span><span class="co">#&gt; - [energy]:</span></span>
<span><span class="co">#&gt;   - gas, oil, engery</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="estimate-the-polarity-of-words">Estimate the polarity of words<a class="anchor" aria-label="anchor" href="#estimate-the-polarity-of-words"></a>
</h3>
<p>To measure the sentiment specifically about energy issues, we collect
words that occur frequently around keywords such as “oil”, “gas”,
“energy” and passing them to <code>terms</code>. These keywords are
called target words.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">seed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/as.seedwords.html">as.seedwords</a></span><span class="op">(</span><span class="va">data_dictionary_sentiment</span><span class="op">)</span></span>
<span><span class="va">term</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/textstat_context.html">char_context</a></span><span class="op">(</span><span class="va">toks</span>, pattern <span class="op">=</span> <span class="va">dict</span><span class="op">$</span><span class="va">energy</span>, p <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span>
<span><span class="va">lss</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/textmodel_lss.html">textmodel_lss</a></span><span class="op">(</span><span class="va">dfmt</span>, seeds <span class="op">=</span> <span class="va">seed</span>, terms <span class="op">=</span> <span class="va">term</span>, cache <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                     include_data <span class="op">=</span> <span class="cn">TRUE</span>, group_data <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/textplot_terms.html">textplot_terms</a></span><span class="op">(</span><span class="va">lss</span><span class="op">)</span></span></code></pre></div>
<p><img src="research_files/figure-html/plot-term-1.png" width="760"></p>
</div>
<div class="section level3">
<h3 id="predict-the-polarity-of-documents">Predict the polarity of documents<a class="anchor" aria-label="anchor" href="#predict-the-polarity-of-documents"></a>
</h3>
<p>We can extract the document variables from the DFM in the LSS model
and save the predicted polarity scores as a new variable.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/quanteda/man/docvars.html" class="external-link">docvars</a></span><span class="op">(</span><span class="va">lss</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">lss</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">lss</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 8063</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="detect-the-mentions-of-countryregion">Detect the mentions of country/region<a class="anchor" aria-label="anchor" href="#detect-the-mentions-of-countryregion"></a>
</h3>
<p>We can detect the mentions of countries using the dictionary. If you
want to classify texts by country more accurately, you should use the <a href="https://cran.r-project.org/package=newsmap" class="external-link">newsmap
package</a>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dfmt_dict</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/quanteda/man/dfm.html" class="external-link">dfm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/quanteda/man/tokens_lookup.html" class="external-link">tokens_lookup</a></span><span class="op">(</span><span class="va">toks</span>, <span class="va">dict</span><span class="op">$</span><span class="va">country</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"us"</span>, <span class="st">"eu"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dfmt_dict</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Document-feature matrix of: 6 documents, 2 features (91.67% sparse) and 4 docvars.</span></span>
<span><span class="co">#&gt;                features</span></span>
<span><span class="co">#&gt; docs            us eu</span></span>
<span><span class="co">#&gt;   s1092644731.1  2  0</span></span>
<span><span class="co">#&gt;   s1092644731.2  0  0</span></span>
<span><span class="co">#&gt;   s1092644731.3  0  0</span></span>
<span><span class="co">#&gt;   s1092644731.4  0  0</span></span>
<span><span class="co">#&gt;   s1092644731.5  0  0</span></span>
<span><span class="co">#&gt;   s1092644731.6  0  0</span></span></code></pre></div>
<p>We can create dummy variables for mentions of country/region by
<code>dfm_group(dfmt_dict) &gt; 0</code>. We must group documents
because the unit of analysis is the articles in this example (recall
<code>textmodel_lss(group_data = TRUE)</code> above).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/quanteda/man/dfm_group.html" class="external-link">dfm_group</a></span><span class="op">(</span><span class="va">dfmt_dict</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;              features</span></span>
<span><span class="co">#&gt; docs             us    eu</span></span>
<span><span class="co">#&gt;   s1092644731  TRUE FALSE</span></span>
<span><span class="co">#&gt;   s1092643478  TRUE  TRUE</span></span>
<span><span class="co">#&gt;   s1092643372 FALSE FALSE</span></span>
<span><span class="co">#&gt;   s1092643164  TRUE FALSE</span></span>
<span><span class="co">#&gt;   s1092641413  TRUE FALSE</span></span>
<span><span class="co">#&gt;   s1092640142  TRUE FALSE</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">mat</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h3>
<p>We must smooth the polarity scores of documents separately for the
country/region using <code><a href="../../reference/smooth_lss.html">smooth_lss()</a></code>. After smoothing, we can
see that the difference between the US and EU has expanded soon after
the proposition of the European Gas Demand Reduction Plan.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">smo_us</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/smooth_lss.html">smooth_lss</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">us</span><span class="op">)</span>, lss_var <span class="op">=</span> <span class="st">"lss"</span>, date_var <span class="op">=</span> <span class="st">"date"</span><span class="op">)</span></span>
<span><span class="va">smo_us</span><span class="op">$</span><span class="va">country</span> <span class="op">&lt;-</span> <span class="st">"us"</span></span>
<span><span class="va">smo_eu</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/smooth_lss.html">smooth_lss</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">eu</span><span class="op">)</span>, lss_var <span class="op">=</span> <span class="st">"lss"</span>, date_var <span class="op">=</span> <span class="st">"date"</span><span class="op">)</span></span>
<span><span class="va">smo_eu</span><span class="op">$</span><span class="va">country</span> <span class="op">&lt;-</span> <span class="st">"eu"</span></span>
<span><span class="va">smo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">smo_us</span>, <span class="va">smo_eu</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">smo</span>, <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">fit</span>, color <span class="op">=</span> <span class="va">country</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/aes.html" class="external-link">aes</a></span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">fit</span> <span class="op">-</span> <span class="va">se.fit</span> <span class="op">*</span> <span class="fl">1.96</span>, ymax <span class="op">=</span> <span class="va">fit</span> <span class="op">+</span> <span class="va">se.fit</span> <span class="op">*</span> <span class="fl">1.96</span>, fill <span class="op">=</span> <span class="va">country</span><span class="op">)</span>, </span>
<span>                alpha <span class="op">=</span> <span class="fl">0.1</span>, colour <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2022-06-26"</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="st">"dotted"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span>date_breaks <span class="op">=</span> <span class="st">"months"</span>, date_labels <span class="op">=</span> <span class="st">"%b"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Sentiment on energy"</span>, x <span class="op">=</span> <span class="st">"Date"</span>, y <span class="op">=</span> <span class="st">"Sentiment"</span>, </span>
<span>         fill <span class="op">=</span> <span class="st">"Country"</span>, color <span class="op">=</span> <span class="st">"Country"</span><span class="op">)</span></span></code></pre></div>
<p><img src="research_files/figure-html/plot-trend-1.png" width="760"></p>
<p>To test if the changes after the proposition is statistically
significant, we should create a dummy variable <code>after</code> for
the period after the proposition and perform regression analysis with
its interactions with the country/region dummies. This is akin to <a href="https://en.wikipedia.org/wiki/Difference_in_differences" class="external-link">the
difference-in-differences design</a> that I often employ in analysis of
news (Watanabe 2017; Watanabe et al. 2022).</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_war</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">date</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2022-02-24"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">dat_war</span><span class="op">$</span><span class="va">after</span> <span class="op">&lt;-</span> <span class="va">dat_war</span><span class="op">$</span><span class="va">date</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2022-06-20"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">dat_war</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lss"</span>, <span class="st">"us"</span>, <span class="st">"eu"</span>, <span class="st">"after"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;       lss               us              eu            after        </span></span>
<span><span class="co">#&gt;  Min.   :-9.19133   Mode :logical   Mode :logical   Mode :logical  </span></span>
<span><span class="co">#&gt;  1st Qu.:-0.66951   FALSE:2448      FALSE:4544      FALSE:3394     </span></span>
<span><span class="co">#&gt;  Median :-0.02954   TRUE :4698      TRUE :2602      TRUE :3752     </span></span>
<span><span class="co">#&gt;  Mean   :-0.03368                                                  </span></span>
<span><span class="co">#&gt;  3rd Qu.: 0.55619                                                  </span></span>
<span><span class="co">#&gt;  Max.   : 7.73921                                                  </span></span>
<span><span class="co">#&gt;  NA's   :3</span></span></code></pre></div>
<p><code>dat_war</code> contains only the scores since the beginning of
the war, so the <code>intercept</code> is the average sentiment of the
articles without the mentions of the US or the EU before the proposition
during the war; <code>usTRUE</code> and <code>euTRUE</code> are the
average sentiment for the articles with the mentions of the US and the
EU in the period, respectively.</p>
<p>The coefficient of <code>afterTRUE</code> indicates that the overall
sentiment became more negative after the proposition (<em>β</em> =
-0.11; <em>p</em> &lt; 0.01). The insignificant coefficient of
<code>euTRUE:afterTRUE</code> shows that the sentiment for the EU also
decreased, but the large positive coefficient of
<code>usTRUE:afterTRUE</code> suggests that the sentiment for the US
increased (<em>β</em> = 0.22; <em>p</em> &lt; 0.001) and became more
positive than before the proposition.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">lss</span> <span class="op">~</span> <span class="va">us</span> <span class="op">+</span> <span class="va">eu</span> <span class="op">+</span> <span class="va">after</span> <span class="op">+</span> <span class="va">us</span> <span class="op">*</span> <span class="va">after</span> <span class="op">+</span> <span class="va">eu</span> <span class="op">*</span> <span class="va">after</span>, <span class="va">dat_war</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span> </span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = lss ~ us + eu + after + us * after + eu * after, </span></span>
<span><span class="co">#&gt;     data = dat_war)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -9.1370 -0.6343  0.0024  0.5883  7.6808 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;                  Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)       0.04156    0.03232   1.286   0.1985    </span></span>
<span><span class="co">#&gt; usTRUE           -0.09591    0.03737  -2.567   0.0103 *  </span></span>
<span><span class="co">#&gt; euTRUE           -0.05634    0.03656  -1.541   0.1234    </span></span>
<span><span class="co">#&gt; afterTRUE        -0.11148    0.04382  -2.544   0.0110 *  </span></span>
<span><span class="co">#&gt; usTRUE:afterTRUE  0.22429    0.05058   4.434 9.38e-06 ***</span></span>
<span><span class="co">#&gt; euTRUE:afterTRUE -0.03766    0.04980  -0.756   0.4495    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 1.005 on 7137 degrees of freedom</span></span>
<span><span class="co">#&gt;   (3 observations deleted due to missingness)</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.004388,   Adjusted R-squared:  0.00369 </span></span>
<span><span class="co">#&gt; F-statistic: 6.291 on 5 and 7137 DF,  p-value: 7.844e-06</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="conclusions">Conclusions<a class="anchor" aria-label="anchor" href="#conclusions"></a>
</h3>
<p>Our analysis shows that the Sputnik covered the energy issues in the
US more positively while those in the EU more negatively after the
proposition the European Gas Demand Reduction Plan. Our findings are
preliminary, but we can give them a tentative interpretation: the
Russian government attempted to create divisions between the US and the
EU by emphasizing the different impact of the Ukraine war and the
sanctions against Russia on American and European lives.</p>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<ul>
<li>Watanabe, K. (2017). Measuring news bias: Russia’s official news
agency ITAR-TASS’ coverage of the Ukraine crisis. <em>European Journal
of Communication</em>. <a href="https://doi.org/10.1177/0267323117695735" class="external-link uri">https://doi.org/10.1177/0267323117695735</a>.</li>
<li>Watanabe, K., Segev, E., &amp; Tago, A. (2022). Discursive
diversion: Manipulation of nuclear threats by the conservative leaders
in Japan and Israel, <em>International Communication Gazette</em>. <a href="https://doi.org/10.1177/17480485221097967" class="external-link uri">https://doi.org/10.1177/17480485221097967</a>.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Kohei Watanabe.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
